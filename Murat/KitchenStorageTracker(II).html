<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Learning JS</title>
    <!-- <link rel="stylesheet" href="Style.css"> -->
</head>
<body>
    <h1>Restaurant Storage</h1>

    <script>
        let recipes = {
            pizza: {
                flourInGrams: 200,
                tomatoSauceInMl: 100,
                mixedHerbsInGrams: 20,
                cheeseInGrams: 100,
            },
            pasta: {
                flourInGrams: 100,
                eggs: 1,
                tomatoSauceInMl: 100,
                beefInGrams: 100,
                mixedHerbsInGrams: 20,
                cheeseInGrams: 25,
            },
        };

        let initialKitchenStorage = {
            flourInGrams: 10000,
            eggs: 48,
            tomatoSauceInMl: 2000,
            beefInGrams: 10000,
            mixedHerbsInGrams: 2000,
            cheeseInGrams: 10000,
        };

        let currentKitchenStorage = initialKitchenStorage;

        function entireOrder(order, kitchenStorage){
            let currentRecipe = {}
            for(let key in order){
                currentRecipe = recipes[key];
                for(let i=0; i<order[key]; i++){
                    // console.log(key)
                    for(let key in currentRecipe){
                        // console.log(key, kitchenStorage[key], "-", currentRecipe[key]);
                        kitchenStorage[key] -= currentRecipe[key];

                        if(kitchenStorage[key] < 0){
                            console.log('NOT ENOUGH MATERIAL!!!', '\n', 'Order Canceled!');
                            return currentKitchenStorage;
                        }
                    }
                }
                
            }

            return kitchenStorage;
        }

        currentKitchenStorage = entireOrder({ pizza: 100, pasta: 20 }, currentKitchenStorage);

        console.log(currentKitchenStorage);
    </script>
    <!-- <script src="main.js"></script> -->
</body>
</html>